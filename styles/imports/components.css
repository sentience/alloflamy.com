@layer components {
  .content {
    & :is(h1,h2,h3,h4,h5,h6) {
      @apply font-light leading-none tracking-tight mbs-10 mbe-5
    }

    & h1 {
      @apply text-4xl font-bold sm:text-5xl;
    }

    & h2 {
      @apply text-3xl;
    }

    & h3 {
      @apply text-2xl;
    }

    & h4 {
      @apply text-xl;
    }

    & p {
      @apply mlb-4;
    }

    & :any-link {
      @apply text-theme-700 visited:text-theme-900 underline decoration-from-font hover:bg-theme-100 hover:text-black focus-visible:bg-theme-100 focus-visible:text-black;
      /* dark mode */
      @apply dark:text-theme-500  dark:visited:text-theme-300 dark:hover:bg-theme-900 dark:hover:text-white dark:focus-visible:bg-theme-900 dark:focus-visible:text-white;

      /* focus ring */
      @apply rounded ring-offset-white focus-visible:outline-none focus-visible:ring focus-visible:ring-theme-600 focus-visible:ring-offset-2;
      /* dark mode */
      @apply dark:ring-offset-gray-900;

      /* Fix Safari box-shadow render artifacts: https://bugs.webkit.org/show_bug.cgi?id=250059 */
      @apply focus-visible:outline-8;
    }

    /* Heading permalinks generated by markdown-it-anchor */
    & .heading-wrapper {
      @apply flex items-baseline gap-2 sm:gap-0 sm:-ms-5;
    }
    & .heading-wrapper.heading-wrapper + p {
      /* top margin doesn't collapse with preceding paragraph because of flex */
      margin-block-start: 0;
    }
    & p:has(+ .heading-wrapper.heading-wrapper) {
      /* bottom margin doesn't collapse with preceding paragraph because of flex */
      margin-block-end: 0;
    }
    & .heading-wrapper > :is(h1, h2, h3, h4, h5, h6) {
      @apply rounded ring-theme-600 ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
    }
    & :is(h1, h2, h3, h4, h5, h6):target {
      @apply outline-none;
    }
    & :is(h1, h2, h3, h4, h5, h6):has(+ .heading-anchor:focus-visible) {
      @apply bg-theme-100 ring dark:bg-theme-900;
    }
    & .heading-anchor {
      @apply text-2xl font-bold no-underline opacity-10 focus-visible:ring-0 sm:order-first sm:is-5;
    }
    & :hover > .heading-anchor,
    & :target + .heading-anchor,
    & .heading-anchor:is(:focus-visible) {
      @apply bg-transparent text-theme-700 opacity-100 dark:text-theme-500;
    }
  }
}
